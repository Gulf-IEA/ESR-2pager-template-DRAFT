risk_fig <- NEesp2::plot_risk(risk_elements = tibble::tibble(stock = c(4, 0, 2, 2),
recreational = c(1, 1, 1, 3),
commercial = c(1, 4, 2, 0)))
ggplot2::ggsave(risk_fig,
filename = here::here("images/risk_plot.png"),
width = 5,
height = 4,
dpi = 300)
ggplot2::ggsave(risk_fig,
filename = here::here("images/risk_plot.png"),
width = 5,
height = 3.5,
dpi = 300)
?theme
?element_rect
devtools::load_all("../READ-EDAB-NEesp2")
risk_fig <- NEesp2::plot_risk(risk_elements = tibble::tibble(stock = c(4, 0, 2, 2),
recreational = c(1, 1, 1, 3),
commercial = c(1, 4, 2, 0)))
risk_fig
ggplot2::ggsave(risk_fig,
filename = here::here("images/risk_plot.png"),
width = 5,
height = 3.5,
dpi = 300)
5/3.5
4/2.5
ggplot2::ggsave(risk_fig,
filename = here::here("images/risk_plot.png"),
width = 4,
height = 2.5,
dpi = 300)
devtools::load_all("../READ-EDAB-NEesp2")
risk_fig <- NEesp2::plot_risk(risk_elements = tibble::tibble(stock = c(4, 0, 2, 2),
recreational = c(1, 1, 1, 3),
commercial = c(1, 4, 2, 0)))
ggplot2::ggsave(risk_fig,
filename = here::here("images/risk_plot.png"),
width = 4,
height = 2.5,
dpi = 300)
devtools::load_all("../READ-EDAB-NEesp2")
risk_fig <- NEesp2::plot_risk(risk_elements = tibble::tibble(stock = c(4, 0, 2, 2),
recreational = c(1, 1, 1, 3),
commercial = c(1, 4, 2, 0)))
ggplot2::ggsave(risk_fig,
filename = here::here("images/risk_plot.png"),
width = 4,
height = 2.5,
dpi = 300)
dat <- read.csv(here::here("data/survey_bio_data.csv"))
condition <- NEesp2::species_condition(data = bio_data,
LWparams = NEesp2::LWparams,
species.codes = NEesp2::species.codes)
devtools::load_all("../READ-EDAB-NEesp2")
condition <- NEesp2::species_condition(data = bio_data,
LWparams = NEesp2::LWparams,
species.codes = NEesp2::species.codes)
bio_data <- read.csv(here::here("data/survey_bio_data.csv"))
condition <- NEesp2::species_condition(data = bio_data,
LWparams = NEesp2::LWparams,
species.codes = NEesp2::species.codes)
condition
head(bio_data)
NEesp2::species.codes
colnames(bio_data) |> sort()
NEesp2::LWparams
NEesp2::strata_epu_key
devtools::load_all("../READ-EDAB-NEesp2")
condition <- NEesp2::species_condition(data = bio_data,
LWparams = NEesp2::LWparams,
species.codes = NEesp2::species.codes,
by_EPU = FALSE)
devtools::load_all("../READ-EDAB-NEesp2")
bio_data <- read.csv(here::here("data/survey_bio_data.csv"))
condition <- NEesp2::species_condition(data = bio_data,
LWparams = NEesp2::LWparams,
species.codes = NEesp2::species.codes,
by_EPU = FALSE)
condition
plt <- NEesp2::plot_condition(data = condition,
var = 'Black sea bass')
install.packages("viridis")
plt <- NEesp2::plot_condition(data = condition,
var = 'Black sea bass')
plt
?theme
ggplot2::theme(aspect.ratio = 0.4,
legend.box = "horizontal"
)
plt +
ggplot2::theme(aspect.ratio = 0.4,
legend.direction = "vertical",
legend.box = "horizontal")
plt +
ggplot2::theme(aspect.ratio = 0.4,
legend.position = "bottom",
legend.direction = "vertical",
legend.box = "horizontal")
plt +
ggplot2::theme(aspect.ratio = 0.4,
legend.position = "bottom",
legend.direction = "horizontal",
legend.box = "horizontal")
plt +
ggplot2::guides(shape = "none") +
ggplot2::theme(aspect.ratio = 0.4,
legend.position = "bottom",
legend.direction = "horizontal",
legend.box = "horizontal")
plt +
ggplot2::guides(shape = "none") +
ggplot2::theme(aspect.ratio = 0.4,
legend.position = "bottom",
legend.direction = "horizontal",
legend.box = "horizontal",
legend.title = ggplot2::element_blank())
plt +
ggplot2::ylab("Relative condition") +
ggplot2::guides(shape = "none") +
ggplot2::theme(aspect.ratio = 0.4,
legend.position = "bottom",
legend.direction = "horizontal",
legend.box = "horizontal",
legend.title = ggplot2::element_blank())
plt +
ggplot2::ylab("Relative condition") +
ggplot2::guides(shape = "none") +
ggplot2::theme(aspect.ratio = 0.4,
legend.position = "bottom",
legend.direction = "horizontal",
legend.box = "horizontal",
legend.title = ggplot2::element_blank())
plt +
ggplot2::guides(shape = "none") +
ggplot2::theme(aspect.ratio = 0.4,
legend.position = "bottom",
legend.direction = "horizontal",
legend.box = "horizontal",
legend.title = ggplot2::element_blank(),
axis.text.y = ggplot2::element_text()) +
ggplot2::ylab("Relative condition")
plt +
ggplot2::guides(shape = "none") +
ggplot2::theme(aspect.ratio = 0.4,
legend.position = "bottom",
legend.direction = "horizontal",
legend.box = "horizontal",
legend.title = ggplot2::element_blank(),
axis.text.y = ggplot2::element_text()) +
ggplot2::ylab("Relative condition")
devtools::load_all("../READ-EDAB-NEesp2")
plt <- NEesp2::plot_condition(data = condition,
var = 'Black sea bass')
plt +
ggplot2::guides(shape = "none") +
ggplot2::theme(aspect.ratio = 0.4,
legend.position = "bottom",
legend.direction = "horizontal",
legend.box = "horizontal",
legend.title = ggplot2::element_blank()) +
ggplot2::ylab("Relative condition")
plt +
ggplot2::guides(shape = "none") +
ggplot2::theme(aspect.ratio = 0.4,
legend.position = "bottom",
legend.direction = "horizontal",
legend.box = "horizontal",
legend.title = ggplot2::element_blank()) +
ggplot2::ylab("Relative condition") +
ggplot2::scale_y_continuous(breaks = seq(0.9, 1.05, by = 0.05))
plt +
ggplot2::guides(shape = "none") +
ggplot2::theme(aspect.ratio = 0.4,
legend.position = "bottom",
legend.direction = "horizontal",
legend.box = "horizontal",
legend.title = ggplot2::element_blank()) +
ggplot2::ylab("Relative condition") +
ggplot2::scale_y_continuous(breaks = seq(0.9, 1.05, by = 0.05),
limits = c(0.9, 1.05))
plt +
ggplot2::guides(shape = "none") +
ggplot2::theme(aspect.ratio = 0.4,
legend.position = "bottom",
legend.direction = "horizontal",
legend.box = "horizontal",
legend.title = ggplot2::element_blank()) +
ggplot2::ylab("Relative condition") +
ggplot2::scale_y_continuous(breaks = seq(0.9, 1.05, by = 0.05),
limits = c(0.88, 1.05))
ggplot2::ggsave(here::here("images/new_condition.png"),
width = 4,
height = 1.5,
dpi = 300,
units = "in",
device = ragg::agg_png(bg = "white"))
ggplot2::ggsave(here::here("images/new_condition.png"),
width = 6,
height = 4,
dpi = 300,
units = "in",
device = ragg::agg_png(bg = "white"))
plt +
ggplot2::guides(shape = "none",
color = ggplot2::guide_legend(ncol = 3)) +
ggplot2::theme(aspect.ratio = 0.4,
legend.position = "bottom",
legend.direction = "horizontal",
legend.box = "horizontal",
legend.title = ggplot2::element_blank()) +
ggplot2::ylab("Relative condition") +
ggplot2::scale_y_continuous(breaks = seq(0.9, 1.05, by = 0.05),
limits = c(0.88, 1.05))
plt +
ggplot2::guides(shape = "none",
color = ggplot2::guide_legend(ncol = 3)) +
ggplot2::theme(aspect.ratio = 0.4,
legend.position = "bottom",
legend.direction = "horizontal",
legend.box = "horizontal",
legend.title = ggplot2::element_blank()) +
ggplot2::ylab("Relative condition") +
ggplot2::scale_y_continuous(breaks = seq(0.9, 1.05, by = 0.05),
limits = c(0.88, 1.05))
ggplot2::ggsave(here::here("images/new_condition.png"),
width = 6,
height = 4,
dpi = 300,
units = "in",
device = ragg::agg_png(bg = "white"))
ggplot2::ggsave(here::here("images/new_condition.png"),
width = 6,
height = 3.5,
dpi = 300,
units = "in",
device = ragg::agg_png(bg = "white"))
plt +
ggplot2::guides(shape = "none",
color = ggplot2::guide_legend(ncol = 3)) +
ggplot2::theme(aspect.ratio = 0.4,
legend.position = "bottom",
legend.direction = "horizontal",
legend.box = "horizontal",
legend.title = ggplot2::element_blank(),
legend.byrow = TRUE) +
ggplot2::ylab("Relative condition") +
ggplot2::scale_y_continuous(breaks = seq(0.9, 1.05, by = 0.05),
limits = c(0.88, 1.05))
plt +
ggplot2::guides(shape = "none",
color = ggplot2::guide_legend(ncol = 3)) +
ggplot2::theme(aspect.ratio = 0.4,
legend.position = "bottom",
legend.direction = "horizontal",
legend.box = "horizontal",
legend.title = ggplot2::element_blank(),
legend.byrow = TRUE,
plot.background = ggplot2::element_rect(color = "black",
linewidth = 2)) +
ggplot2::ylab("Relative condition") +
ggplot2::scale_y_continuous(breaks = seq(0.9, 1.05, by = 0.05),
limits = c(0.88, 1.05))
ggplot2::ggsave(here::here("images/new_condition.png"),
width = 6,
height = 3.5,
dpi = 300,
units = "in",
device = ragg::agg_png(bg = "white"))
ggplot2::ggsave(here::here("images/new_condition.png"),
width = 6,
height = 3,
dpi = 300,
units = "in",
device = ragg::agg_png(bg = "white"))
ggplot2::ggsave(here::here("images/new_condition.png"),
width = 6,
height = 3.25,
dpi = 300,
units = "in",
device = ragg::agg_png(bg = "white"))
plt +
ggplot2::guides(shape = "none",
color = ggplot2::guide_legend(ncol = 3)) +
ggplot2::theme(aspect.ratio = 0.4,
legend.position = "bottom",
legend.direction = "horizontal",
legend.box = "horizontal",
legend.title = ggplot2::element_blank(),
legend.byrow = TRUE,
plot.background = ggplot2::element_rect(color = "black",
linewidth = 2),
legend.background = ggplot2::element_rect(fill = NULL, color = NULL)) +
ggplot2::ylab("Relative condition") +
ggplot2::scale_y_continuous(breaks = seq(0.9, 1.05, by = 0.05),
limits = c(0.88, 1.05))
ggplot2::ggsave(here::here("images/new_condition.png"),
width = 6,
height = 3.25,
dpi = 300,
units = "in",
device = ragg::agg_png(bg = "white"))
plt +
ggplot2::guides(shape = "none"#,
# color = ggplot2::guide_legend(ncol = 3)
) +
ggplot2::theme(aspect.ratio = 0.4,
# legend.position = "bottom",
# legend.direction = "horizontal",
legend.box = "horizontal",
legend.title = ggplot2::element_blank(),
# legend.byrow = TRUE,
plot.background = ggplot2::element_rect(color = "black",
linewidth = 2),
legend.background = ggplot2::element_rect(fill = NULL, color = NULL)) +
ggplot2::ylab("Relative condition") +
ggplot2::scale_y_continuous(breaks = seq(0.9, 1.05, by = 0.05),
limits = c(0.88, 1.05))
plt +
ggplot2::guides(shape = "none"#,
# color = ggplot2::guide_legend(ncol = 3)
) +
ggplot2::theme(aspect.ratio = 0.4,
# legend.position = "bottom",
# legend.direction = "horizontal",
# legend.box = "horizontal",
legend.title = ggplot2::element_blank(),
# legend.byrow = TRUE,
plot.background = ggplot2::element_rect(color = "black",
linewidth = 2)) +
ggplot2::ylab("Relative condition") +
ggplot2::scale_y_continuous(breaks = seq(0.9, 1.05, by = 0.05),
limits = c(0.88, 1.05))
ggplot2::ggsave(here::here("images/new_condition.png"),
width = 6,
height = 3.25,
dpi = 300,
units = "in",
device = ragg::agg_png(bg = "white"))
plt +
ggplot2::guides(shape = "none"#,
# color = ggplot2::guide_legend(ncol = 3)
) +
ggplot2::theme(#aspect.ratio = 0.4,
# legend.position = "bottom",
# legend.direction = "horizontal",
# legend.box = "horizontal",
legend.title = ggplot2::element_blank(),
# legend.byrow = TRUE,
plot.background = ggplot2::element_rect(color = "black",
linewidth = 2)) +
ggplot2::ylab("Relative condition") +
ggplot2::scale_y_continuous(breaks = seq(0.9, 1.05, by = 0.05),
limits = c(0.88, 1.05))
ggplot2::ggsave(here::here("images/new_condition.png"),
width = 6,
height = 3.25,
dpi = 300,
units = "in",
device = ragg::agg_png(bg = "white"))
plt +
ggplot2::guides(shape = "none"#,
# color = ggplot2::guide_legend(ncol = 3)
) +
ggplot2::theme(aspect.ratio = 0.6,
# legend.position = "bottom",
# legend.direction = "horizontal",
# legend.box = "horizontal",
legend.title = ggplot2::element_blank(),
# legend.byrow = TRUE,
plot.background = ggplot2::element_rect(color = "black",
linewidth = 2)) +
ggplot2::ylab("Relative condition") +
ggplot2::scale_y_continuous(breaks = seq(0.9, 1.05, by = 0.05),
limits = c(0.88, 1.05))
ggplot2::ggsave(here::here("images/new_condition.png"),
width = 6,
height = 3.25,
dpi = 300,
units = "in",
device = ragg::agg_png(bg = "white"))
ggplot2::ggsave(here::here("images/new_condition.png"),
width = 6,
height = 3,
dpi = 300,
units = "in",
device = ragg::agg_png(bg = "white"))
ggplot2::ggsave(here::here("images/new_condition.png"),
width = 6,
height = 2.5,
dpi = 300,
units = "in",
device = ragg::agg_png(bg = "white"))
ggplot2::ggsave(here::here("images/new_condition.png"),
width = 6,
height = 2.25,
dpi = 300,
units = "in",
device = ragg::agg_png(bg = "white"))
ggplot2::ggsave(here::here("images/new_condition.png"),
width = 6,
height = 2.3,
dpi = 300,
units = "in",
device = ragg::agg_png(bg = "white"))
ggplot2::ggsave(here::here("images/new_condition.png"),
width = 6,
height = 2.4,
dpi = 300,
units = "in",
device = ragg::agg_png(bg = "white"))
renv::snapshot()
renv::snapshot()
targets::tar_visnetwork()
install.packages("targets")
targets::tar_make()
install.packages("tarchetypes")
renv::snapshot()
renv::snapshot()
targets::tar_make()
targets::tar_make()
source(here::here("../READ-EDAB-NEesp2"))
source(here::here("../READ-EDAB-NEesp2"))
remotes::install_github("NEFSC/READ-EDAB-NEesp2")
remotes::install_github("NEFSC/READ-EDAB-NEesp2")
remotes::install_github("NEFSC/READ-EDAB-NEesp2", force = TRUE)
targets::tar_make()
targets::tar_make()
NEesp2::find_files("meta_data")
targets::tar_make()
NEesp2::create_rec_trips
remotes::install_github("NEFSC/READ-EDAB-NEesp2")
?install_github
remotes::install_github("NEFSC/READ-EDAB-NEesp2", ref = "abby_dev")
targets::tar_make()
NEesp2::create_rec_trips(files =  list.files(
path = here::here("../READ-EDAB-MRIP/inputs/Black_sea_bass_trips.Rds"),
full.names = TRUE
))
NEesp2::create_rec_trips
remotes::install_github("NEFSC/READ-EDAB-NEesp2", ref = "abby_dev")
NEesp2::create_rec_trips
remove.packages("NEesp2")
remotes::install_github("NEFSC/READ-EDAB-NEesp2", ref = "abby_dev")
NEesp2::create_rec_trips
remove.packages("NEesp2")
remotes::install_github("NEFSC/READ-EDAB-NEesp2", ref = "abby_dev")
NEesp2::create_rec_trips
NEesp2::create_rec_trips(files =  list.files(
path = here::here("../READ-EDAB-MRIP/inputs/Black_sea_bass_trips.Rds"),
full.names = TRUE
))
files <- list.files(
path = here::here("../READ-EDAB-MRIP/inputs/Black_sea_bass_trips.Rds"),
full.names = TRUE
)
files
files <- list.files(
path = here::here("../READ-EDAB-MRIP/inputs/Black_sea_bass_trips"),
full.names = TRUE
)
NEesp2::create_rec_trips(files =  list.files(
path = here::here("../READ-EDAB-MRIP/inputs/Black_sea_bass_trips"),
full.names = TRUE
))
remove.packages("NEesp2")
remotes::install_github("NEFSC/READ-EDAB-NEesp2", ref = "abby_dev")
NEesp2::create_rec_trips(files =  list.files(
path = here::here("../READ-EDAB-MRIP/inputs/Black_sea_bass_trips"),
full.names = TRUE
))
targets::tar_make()
targets::tar_make()
targets::tar_make()
risk_fig <- NEesp2::plot_risk(risk_elements = tibble::tibble(stock = c(4, 0, 2, 2),
recreational = c(1, 1, 1, 3),
commercial = c(1, 4, 2, 0)))
ggplot2::ggsave(risk_fig,
filename = here::here("images/risk_plot.png"),
width = 4,
height = 2.5,
dpi = 300)
targets::tar_load_everything()
comm_data
comm_data |> dplyr::filter(INDICATOR_NAME == "N_Commercial_Vessels_Landing_BLACK_SEABASS
")
unique(comm_data$INDICATOR_NAME)
comm_data |> dplyr::filter(INDICATOR_NAME == "N_Commercial_Vessels_Landing_BLACK_SEABASS")
comm_data |> dplyr::filter(INDICATOR_NAME == "N_Commercial_Vessels_Landing_BLACK_SEABASS") |> View()
all_data
unique(all_data$INDICATOR_NAME)
all_data |> dplyr::filter(INDICATOR_NAME == "BSB_Commercial_Vessels")
all_data |> dplyr::filter(INDICATOR_NAME == "BSB_Commercial_Vessels") |> View()
tarets::tar_make()
targets::tar_make()
install.packages("readxl")
targets::tar_make()
target::tar_make("all_data")
targets::tar_make("all_data")
targets::tar_invalidate("all_data")
target::tar_make()
targets::tar_make()
remotes::install_github("kshotwell/AKesp")
targets::tar_make()
targets::tar_make()
targets::tar_make()
targets::tar_invalidate("all_data")
targets::tar_make()
renv::snapshot()
?theme
targets::tar_make()
targets::tar_make()
